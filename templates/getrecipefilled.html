{% extends "layout.html" %}

{% block main %}

<div style="text-align: center">
    <p class="paragraph1 display-6"> 
        Discover New Recipe!
    </p>
    <h6 class="container">
        Retreive one of thousands up to date recipes that will take into account your current profile settings. You can always configure your diet or allergy restrictions in your profile tab accessible from top right hamburger menu. When searching for a new recipe you can input an optional cusine type to narrow recipes to a certain country / culture such as American or Chinese. Leave cusine type blank and you can get a new dish from any country / culture.
    </h6>
    <form action ="/getrecipe" method ="post">
        <div action ="/getrecipe" method ="post" class="container" >
            {% if cuisine == "" %}
                <input class="form-control mx-auto w-auto savebutton" type="text" placeholder="Cuisine type filter" aria-label="Search" name="cuisine">
            {% else %}
                <input class="form-control mx-auto w-auto savebutton" type="text" placeholder="Cuisine type filter" aria-label="Search" name="cuisine" value="{{cuisine}}">
            {% endif %}
            <button type="submit" class="btn btn-primary savebutton" id="main" name="main">New dish</button>
            <button type="submit" class="btn btn-primary savebutton" id="desert" name="desert">New desert</button>
            <button type="submit" class="btn btn-primary savebutton" id="suprise" name="suprise">Suprise me!</button>
        </div>
    </form>
    <div class= "newrecipe"> 
        <div class = "title fw-bold">
            {{title}} 
        </div>
        <img src="{{image}}" class="img-thumbnail" alt="...">
        <div>
            <div class="accordion w-50 p-3 position-relative start-50 translate-middle-x min-vw-100" id="accordionExample">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                        Get Nutrion facts
                    </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                            Calories: {{nutrition[0]}} Carbohydrates: {{nutrition[1]}} Fat: {{nutrition[2]}} Protein: {{nutrition[3]}}
                        </div>
                    </div>
                
                    <h2 class="accordion-header" id="headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            Get Ingredients
                        </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                            {% for item in ingredients%}
                            {{item}}
                            {% if not loop.last %}
                                ,
                            {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        

        <form action ="/getrecipe" method ="post" class="accordion1">
            <div class="fs-4">
                <a href="{{link}}" target="_blank">Prep / Instructions</a>
            </div>
            <div action ="/getrecipe" method ="post" class="container" >
                <button type="submit" class="btn btn-primary savebutton" id="save" name="save">Save to Favorites</button>
            </div>
        </form>
    </div>
</div>


{% endblock %}